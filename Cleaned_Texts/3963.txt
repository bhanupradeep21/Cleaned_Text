xforwardedfor xff http header field common method identifying originating ip address client connecting web server http proxy load balancer xforwardedfor http request header introduced squid caching proxy servers developerscitation needed xforwardedfor also emailheader indicating emailmessage forwarded one accounts probably without use xff another similar technique connection proxy would reveal originating ip address proxy server effectively turning proxy server anonymizing service thus making detection prevention abusive accesses significantly harder originating ip address available usefulness xff depends proxy server truthfully reporting original hosts ip address reason effective use xff requires knowledge proxies trustworthy instance looking whitelist servers whose maintainers trusted general format field value commaspace separated list ip addresses leftmost original client successive proxy passed request adding ip address received request example request passed shown header appears remote address request xforwardedfor header formally standardized variations ip address format exist example implementationswhich include port number clients enclose addresses square brackets even without port number similar format newer forwarded header examples xforwardedfor header added edited http proxies forwarding request server appends address client existing xforwardedfor header separated comma creates new xforwardedfor header client address value since easy forge xforwardedfor field given information used care rightmost ip address always ip address connects last proxy means reliable source information xforwardedfor data used forward reverse proxy scenario server behind trusted reverse proxy allows connections proxy header value usually assumed trustworthy logging xforwardedfor field always enough last proxy ip address chain contained within xforwardedfor field actual ip header web server log requests source ip address xforwardedfor field information completeness rfc standardized forwarded http header similar purpose features compared xforwardedfor http example forwarded headers syntax haproxy defines proxy protocol communicate originating clients ip address without using xforwardedfor forwarded protocol used multiple transport protocols require inspecting inner protocol limited http httpsenwikipediaorgwikixforwardedfor